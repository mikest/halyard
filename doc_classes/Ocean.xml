<?xml version="1.0" encoding="UTF-8" ?>
<class name="Ocean" inherits="LiquidArea" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="https://raw.githubusercontent.com/godotengine/godot/master/doc/class.xsd">
	<brief_description>
		A LiquidArea that simulates ocean waves using shader-based height displacement.
	</brief_description>
	<description>
		Ocean extends [LiquidArea] to provide realistic wave simulation for buoyancy physics. It uses a [WaveSampler] resource to calculate wave heights and normals that match a shader's visual output.
		The Ocean automatically creates a [ClipMapInstance] child for rendering the ocean surface with LOD-based tile management. Configure the clipmap via [method get_clipmap_instance].
		Tide functionality is also supported, allowing the ocean level to fluctuate between low and high tide values based on [member tide_phase].
	</description>
	<tutorials>
	</tutorials>
	<methods>
		<method name="get_clipmap_instance" qualifiers="const">
			<return type="ClipMapInstance" />
			<description>
				Returns the [ClipMapInstance] child node that handles the visual rendering of the ocean surface. Use this to configure tile size, LOD levels, vertex scaling, and the rendering material.
			</description>
		</method>
		<method name="get_ocean" qualifiers="static">
			<return type="Ocean" />
			<param index="0" name="tree" type="SceneTree" />
			<description>
				Static method to find the Ocean node in the scene tree. First looks for a node with unique name [code]%Ocean[/code], then falls back to searching for any Ocean instance.
				Returns [code]null[/code] if no Ocean is found.
				[codeblock]
				var ocean = Ocean.get_ocean(get_tree())
				if ocean:
				    print("Tide height: ", ocean.get_tide_height())
				[/codeblock]
			</description>
		</method>
		<method name="get_tide_height" qualifiers="const">
			<return type="float" />
			<description>
				Returns the current tide height offset based on [member tide_phase] (or [member tidal_override] if set). The value is interpolated between [member low_tide] and [member high_tide].
			</description>
		</method>
	</methods>
	<members>
		<member name="high_tide" type="float" setter="set_high_tide" getter="get_high_tide" default="5.0">
			The maximum water level offset at high tide, in meters. This value is added to the Ocean's base position when [member tide_phase] is 1.0.
		</member>
		<member name="low_tide" type="float" setter="set_low_tide" getter="get_low_tide" default="-5.0">
			The minimum water level offset at low tide, in meters. This value is added to the Ocean's base position when [member tide_phase] is 0.0.
		</member>
		<member name="ocean_update" type="int" setter="set_ocean_update" getter="get_ocean_update" enum="Ocean.OceanUpdate" default="1">
			Controls how the clipmap follows a target position. When set to [constant CAMERA], the clipmap automatically follows the viewport's camera.
		</member>
		<member name="tidal_override" type="float" setter="set_tidal_override" getter="get_tidal_override" default="-1.0">
			Manual override for tide phase. When set to a value >= 0, this overrides the [member tide_phase] property for water level calculations.
			Set to -1 (or any negative value) to use [member tide_phase] instead.
		</member>
		<member name="tide_phase" type="float" setter="set_tide_phase" getter="get_tide_phase" default="0.5">
			The current tide phase, ranging from 0.0 (low tide) to 1.0 (high tide). The water level is interpolated between [member low_tide] and [member high_tide] based on this value.
		</member>
		<member name="wave_sampler" type="WaveSampler" setter="set_wave_sampler" getter="get_wave_sampler">
			The [WaveSampler] resource used for wave calculations. Configure the sampler with wave parameters that match your ocean shader for consistent physics behavior.
		</member>
	</members>
	<constants>
		<constant name="DISABLED" value="0" enum="OceanUpdate">
			Clipmap doesn't follow anything and stays at its initial position.
		</constant>
		<constant name="CAMERA" value="1" enum="OceanUpdate">
			Clipmap follows the viewport's camera position.
		</constant>
	</constants>
</class>
